<body>
  <ion-header><app-header></app-header> </ion-header>

  <ion-content fullscreen>
    <div class="conversation ion-padding">
      <div class="chat-section" id="chat">
        <div class="chat">
            <div *ngFor="let mje of listaDeMensajes">
              <div class="mine messages"
                *ngIf="mje.idDelEnviador == idUsuarioActual"
              >
                <div class="message" *ngIf="esCliente">
                  Mesa número: {{mje.numeroDeMesa}}
                  <br />
                  <span class="chat-time"> {{mje.fecha | date:'short'}} </span> 
                  {{mje.mensaje}}
                  <br>
                </div>
                <div class="message" *ngIf="esMozo">
                  Mozo {{mje.nombreMozo}}:
                  <br />
                  <span class="chat-time"> {{mje.fecha | date:'short'}} </span> 
                  {{mje.mensaje}}
                  <br>
                </div>
              </div>

              <div class="yours messages"
                *ngIf="mje.idDelEnviador != idUsuarioActual"
              >
                <div class="message other" *ngIf="esMozo">
                  Mesa número: {{mje.numeroDeMesa}}
                  <br />
                  <span class="chat-time"> {{mje.fecha | date:'short'}} </span> 
                 
                  {{mje.mensaje}}
                  <br>
                </div>
                <div class="message other" *ngIf="esCliente">
                  Mozo {{mje.nombreMozo}}:
                  <br />
                  <span class="chat-time"> {{mje.fecha | date:'short'}} </span> 
                  {{mje.mensaje}}
                  <br>
                </div>
              </div>
            </div>
        </div>
        <div class="message-input">
          <form [formGroup]="chatForm" (ngSubmit)="enviarMensaje()">
            <ion-input
              type="text"
              value="incomplete"
              id="floatingInput"
              placeholder="Escriba aquí su mensaje"
              [(ngModel)]="ngmensaje"
              formControlName="messageCtrl"
            >
            </ion-input>
  
            
          </form>
          <div class="send-button">
            <ion-button type="submit">
              <ion-icon slot="icon-only" name="send-outline" ></ion-icon>
            </ion-button>
            
          </div>
        </div>
        
      </div>
      
    </div>
  </ion-content>
</body>
